var kt=Object.defineProperty;var xt=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var bt=(o,a,s)=>a in o?kt(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,pt=(o,a)=>{for(var s in a||(a={}))Ft.call(a,s)&&bt(o,s,a[s]);if(xt)for(var s of xt(a))Pt.call(a,s)&&bt(o,s,a[s]);return o};import{d as B,u as W,r as w,a as S,b as ot,o as i,c,e,f as y,w as q,F as L,g as R,h as I,t as x,i as t,n as V,j as M,T as Ut,p as Dt,k as Ct,l as z,m as Lt,q as Tt,s as T,v as Nt,x as et,y as O,z as wt,A as Rt,B as H,C as It,D as Vt,E as st,G as U,H as G,I as jt,J as qt,K as Mt,L as Ot,M as Wt,N as zt,O as Ht,P as Gt}from"./vendor.f23d2630.js";const Kt=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}};Kt();var Et="./assets/Logo-mobile.523a6de3.svg",Yt="./assets/Logo-desktop.6078e4fc.svg",Xt="./assets/Bar.a40fdac7.svg",Jt="./assets/Close.b7182539.svg";var ut=(o,a)=>{const s=o.__vccOpts||o;for(const[n,l]of a)s[n]=l;return s};const Z=o=>(Dt("data-v-bab7f1a6"),o=o(),Ct(),o),Qt={class:"md:border-b fixed w-full bg-white z-10"},Zt={class:"relative container md:mx-auto px-1 py-2 md:py-8 flex items-center justify-between"},te=Z(()=>e("div",{class:"w-12.5 h-12.5 md:hidden"},null,-1)),ee=Z(()=>e("img",{src:Et,class:"md:hidden"},null,-1)),se=Z(()=>e("img",{src:Yt,class:"hidden md:block"},null,-1)),ae=Z(()=>e("img",{src:Xt},null,-1)),oe=[ae],ne={class:"hidden md:block"},ie={class:"text-lg mr-5"},le=Z(()=>e("img",{src:Et,class:"mr-18"},null,-1)),ue=Z(()=>e("img",{src:Jt},null,-1)),re=[ue],ce=["onClick"],de={class:"text-lg"},me=B({setup(o){const a=W(),s=w([{path:"/scenicspot",text:"\u63A2\u7D22\u666F\u9EDE"},{path:"/activity",text:"\u7BC0\u6176\u6D3B\u52D5"},{path:"/restaurant",text:"\u54C1\u5617\u7F8E\u98DF"}]);let n=S(!1);function l(){n.value=!n.value}function u(f){a.push(f),l()}return(f,h)=>{const d=ot("router-link");return i(),c(L,null,[e("div",Qt,[e("div",Zt,[te,y(d,{to:"/"},{default:q(()=>[ee,se]),_:1}),e("div",{class:"w-12.5 h-12.5 bg-primary-light rounded-xl flex items-center justify-center ease-linear md:hidden",onClick:l},oe),e("div",ne,[(i(!0),c(L,null,R(t(s),m=>(i(),I(d,{key:m.text,to:m.path},{default:q(()=>[e("span",ie,x(m.text),1)]),_:2},1032,["to"]))),128))])])]),e("div",{class:V(["fixed right-0 top-0 md:hidden bg-white transform transition ease-in duration-300 flex flex-col px-2 z-30 rounded-bl-3xl",{"translate-x-full":!t(n)}])},[e("div",{class:"flex py-2 pr-1 pl-7"},[le,e("div",{class:"w-12.5 h-12.5 bg-primary-light rounded-xl flex items-center justify-center",onClick:l},re)]),(i(!0),c(L,null,R(t(s),(m,b)=>(i(),c("div",{key:m.text,class:V(["py-6",{"border-t border-b":b===1}]),onClick:D=>u(m.path)},[e("span",de,x(m.text),1)],10,ce))),128))],2),y(Ut,{name:"blur"},{default:q(()=>[t(n)?(i(),c("div",{key:0,class:V(["fixed w-full h-full bg-black bg-opacity-10 backdrop-filter backdrop-blur-sm",{"z-20":t(n)}])},null,2)):M("",!0)]),_:1})],64)}}});var pe=ut(me,[["__scopeId","data-v-bab7f1a6"]]);const _e={class:"footer bg-primary w-full flex justify-center items-center text-white text-sm"},fe=B({setup(o){return(a,s)=>(i(),c("div",_e,"#The F2E 3rd Week01 #Breakfast"))}});var he=ut(fe,[["__scopeId","data-v-49560c58"]]);const ge={class:"flex flex-col min-h-screen"},ye={class:"container flex flex-col flex-grow mx-auto px-4 md:px-0"},ve=B({setup(o){const a=z(),s=Lt();return a.dispatch("Basic/getCity"),(n,l)=>{const u=ot("router-view");return i(),c("div",ge,[y(pe),e("div",ye,[(i(),I(u,{key:t(s).fullPath}))]),y(he)])}}});var xe="./assets/Vector_yellow.ed70e29b.svg",rt="./assets/Search30.2ac08708.svg",St="./assets/Vector.913a41ae.svg",be="./assets/Arrow-Right_primary.c2cf14ca.svg";function K(){function o(){window.scrollTo({top:0,behavior:"smooth"})}function a(u){return u.substring(0,3)}function s(u){const f=[];for(const h of Object.keys(u))h.includes("PictureUrl")&&f.push(u[h]);return f}function n(u){const f=[];for(const h of Object.keys(u)){const d=u[h];h.includes("Class")&&typeof d=="string"&&f.push(d)}return f}function l(u){return Tt(u).format("YYYY/MM/DD h:mm")}return{scrollToTop:o,formatCity:a,formatPicture:s,formatClass:n,formatTime:l}}const $e=["value"],De=["value"],ct=B({props:{modelValue:String,options:Array},emits:["update:modelValue"],setup(o,{emit:a}){const s=o,{modelValue:n,options:l}=T(s);function u(f){a("update:modelValue",f.target.value)}return(f,h)=>(i(),c("select",{value:t(n),onInput:u,class:"h-12 w-full rounded-md border-gray-200 text-primary mb-1.5 px-7 cursor-pointer"},[(i(!0),c(L,null,R(t(l),d=>(i(),c("option",{key:d.value,value:d.value,class:"mb-1"},x(d.title),9,De))),128))],40,$e))}}),Ce=["value","placeholder"],dt=B({props:{modelValue:String,placeholder:String},emits:["update:modelValue"],setup(o,{emit:a}){const s=o,{modelValue:n,placeholder:l}=T(s);function u(f){a("update:modelValue",f.target.value)}return(f,h)=>(i(),c("input",{type:"text",value:t(n),onInput:u,placeholder:t(l),class:"w-full h-12 rounded-md border-gray-200 bg-gray-50 text-red mb-1.5 px-7"},null,40,Ce))}}),mt=B({props:{bgColor:String,color:String},setup(o){const a=o,{bgColor:s,color:n}=T(a);return(l,u)=>(i(),c("button",{class:V(["w-full h-12 rounded-md flex justify-center items-center",[`bg-${t(s)}`,`text-${t(n)}`]])},[Nt(l.$slots,"default")],2))}});var we="./assets/Arrow-Left.640bfa74.svg",Ee="./assets/Arrow-Right.d45cdc2d.svg";const Se={class:"flex flex-nowrap overflow-hidden rounded-3xl w-full h-full relative"},Ae=["src"],Be={class:"pr-2 md:pr-4 border-r-2 leading-8"},ke={class:"pl-2 md:pl-4"},Fe={class:"absolute bottom-4 right-4 md:bottom-7 md:right-7 flex"},Pe=["onClick"],Ue=B({props:{items:{type:Array,default:[]},pathName:{type:String,default:""}},setup(o){const a=o,{items:s,pathName:n}=T(a);let l=S(0);function u(){l.value<5&&l.value++}function f(){l.value>0&&l.value--}const h=W();function d(){h.push(`/${n.value}/${s.value[l.value].ScenicSpotID}`)}return(m,b)=>(i(),c("div",Se,[(i(!0),c(L,null,R(t(s),D=>(i(),c("div",{class:"w-full relative overflow-hidden flex-none flex justify-center items-center text-white px-7 transition duration-500 font-bold md:text-3xl md:justify-between",key:D.ScenicSpotID,style:et({transform:`translate(-${t(l)*100}%)`})},[e("img",{src:D.Picture.PictureUrl1,class:"absolute left-0 -z-10 w-full cursor-pointer bg-no-repeat bg-cover bg-center bg-no-image-l md:bg-no-image-xl",onClick:d},null,8,Ae),e("img",{class:"carousel__btn hidden md:block",src:we,onClick:f}),e("div",null,[e("span",Be,x(D.Address.slice(0,3)),1),e("span",ke,x(D.ScenicSpotName),1)]),e("img",{class:"carousel__btn hidden md:block",src:Ee,onClick:u})],4))),128)),e("div",Fe,[(i(!0),c(L,null,R(t(s),(D,r)=>(i(),c("div",{class:V(["carousel__index cursor-pointer w-2 h-2 mr-1.5 md:mr-3 md:w-4 md:h-4",{"bg-white":t(l)===r,"bg-gray-400":t(l)!==r}]),key:r,onClick:p=>O(l)?l.value=r:l=r},null,10,Pe))),128))])]))}});var Le=ut(Ue,[["__scopeId","data-v-733c12fe"]]),Te="./assets/Arrow-Right_secondary.14d65eeb.svg";const Ne={class:"flex items-end justify-between leading-none md:px-3.5"},Re={class:"text-2xl md:text-4xl text-left"},Ie={class:"hidden md:inline"},Ve={class:"hidden md:inline"},je=e("img",{src:Te},null,-1),Q=B({props:{title:{type:Object,required:!0},subTitle:{type:Object,required:!0},route:String,city:String},setup(o){const a=o,{title:s,subTitle:n,route:l,city:u}=T(a),f=W();function h(){f.push({name:l==null?void 0:l.value,params:u!=null&&u.value?{city:u.value}:{}})}return(d,m)=>(i(),c("div",Ne,[e("h2",Re,[e("span",{class:V({"md:hidden":t(s).md})},x(t(s).default),3),e("span",Ie,x(t(s).md),1)]),e("div",{class:"flex text-secondary cursor-pointer",onClick:h},[e("span",{class:V({"md:hidden":t(s).md})},x(t(n).default),3),e("span",Ve,x(t(n).md),1),je])]))}}),qe={class:"flex items-center overflow-hidden rounded-2xl mb-2.5 h-40"},Me={key:1,class:"w-full h-full bg-center bg-cover bg-no-repeat bg-fixed transform hover:scale-110 cursor-pointer transition duration-200 bg-no-image-m"},Oe={class:"text-left text-lg font-bold mb-1.5 truncate md:text-2xl"},We={class:"flex"},ze=e("img",{src:St,class:"mr-1"},null,-1),At=B({props:{data:Object,routeName:String},setup(o){const a=o,{data:s}=T(a);return(n,l)=>{const u=ot("router-link");return t(s)?(i(),I(u,{key:0,to:`/${o.routeName}/${t(s).id}`,class:"flex flex-col"},{default:q(()=>[e("div",qe,[t(s).picture.PictureUrl1?(i(),c("div",{key:0,style:et({"background-image":`url(${t(s).picture.PictureUrl1})`}),class:"w-full h-full bg-center bg-cover bg-no-repeat bg-fixed transform hover:scale-110 cursor-pointer transition duration-200"},null,4)):(i(),c("div",Me))]),e("div",Oe,x(t(s).name),1),e("div",We,[ze,e("span",null,x(t(s).city),1)])]),_:1},8,["to"])):M("",!0)}}}),He={class:"grid grid-flow-col overflow-x-auto -mx-4 md:mx-0 md:gap-7 md:grid-flow-row md:grid-cols-2 lg:grid-cols-4"},at=B({props:{dataList:{type:Array,default:[]},routeName:{type:String,default:""}},setup(o){const a=o,{dataList:s,routeName:n}=T(a);return(l,u)=>(i(),c("div",He,[(i(!0),c(L,null,R(t(s),(f,h)=>(i(),I(At,{key:f.name,data:f,routeName:t(n),class:V(["pl-4 md:pl-0 w-56 md:w-full",{"mr-4":h===t(s).length-1}])},null,8,["data","routeName","class"]))),128))]))}});function Bt(){const o="8c62ce33fcdc4ef48048f66d78608de1",a="Q8ImsvuvjN9dUpCWt9m6Gl4jb54",s=new Date().toUTCString(),n=new Rt("SHA-1","TEXT");n.setHMACKey(a,"TEXT"),n.update("x-date: "+s);const l=n.getHMAC("B64");return{Authorization:`hmac username="${o}", algorithm="hmac-sha1", headers="x-date", signature="${l}"`,"X-Date":s}}const lt=wt.create({baseURL:"https://ptx.transportdata.tw/MOTC/v2/Tourism/",headers:pt({"Content-Type":"application/josn"},Bt()),timeout:2e4});lt.interceptors.request.use(function(o){return o},function(o){return Promise.reject(o)});lt.interceptors.response.use(function(o){return o},function(o){if(o.response)switch(o.response.status){case 404:console.log("\u4F60\u8981\u627E\u7684\u9801\u9762\u4E0D\u5B58\u5728");break;case 500:console.log("\u7A0B\u5F0F\u767C\u751F\u554F\u984C");break;default:console.log(o.message);break}if(!window.navigator.onLine){alert("\u7DB2\u8DEF\u51FA\u4E86\u9EDE\u554F\u984C\uFF0C\u8ACB\u91CD\u65B0\u9023\u7DDA\u5F8C\u91CD\u6574\u7DB2\u9801");return}return Promise.reject(o)});const $t=wt.create({baseURL:"https://gist.motc.gov.tw/gist_api/V3/Map/",headers:pt({"Content-Type":"application/josn"},Bt()),timeout:2e4});class X{static v2Req(a,s,n=null,l){switch(a){case"post":return lt.post(s,n,l);case"get":return lt.get(s,{params:n});default:return console.warn(`\u672A\u77E5\u7684 method: ${a}`),Promise.reject()}}static v3Req(a,s,n=null,l){switch(a){case"post":return $t.post(s,n,l);case"get":return $t.get(s,{params:n});default:return console.warn(`\u672A\u77E5\u7684 method: ${a}`),Promise.reject()}}}class J{static getScenicSpot(a){return X.v2Req("get","ScenicSpot",a)}static getScenicSpotByCity(a,s){return X.v2Req("get",`ScenicSpot/${a}`,s)}static getRestaurant(a){return X.v2Req("get","Restaurant",a)}static getRestaurantByCity(a,s){return X.v2Req("get",`Restaurant/${a}`,s)}static getActivity(a){return X.v2Req("get","Activity",a)}static getActivityByCity(a,s){return X.v2Req("get",`Activity/${a}`,s)}}class N{static getScenicSpot(a){return J.getScenicSpot(a).then(s=>s.data)}static getScenicSpotByCity(a,s){return J.getScenicSpotByCity(a,s).then(n=>n.data)}static getActivity(a){return J.getActivity(a).then(s=>s.data)}static getActivityByCity(a,s){return J.getActivityByCity(a,s).then(n=>n.data)}static getRestaurant(a){return J.getRestaurant(a).then(s=>s.data)}static getRestaurantByCity(a,s){return J.getRestaurantByCity(a,s).then(n=>n.data)}}const nt=o=>(Dt("data-v-0bfdd32f"),o=o(),Ct(),o),Ge={class:"pt-18 pb-14 md:px-24 flex flex-col items-center md:pt-40 md:flex-row md:justify-between"},Ke=Vt('<div class="mb-9" data-v-0bfdd32f><h1 class="text-3xl md:text-5xl text-center md:text-left font-light mb-2" data-v-0bfdd32f> \u63A2\u7D22 <span class="border-b-2 border-highlight" data-v-0bfdd32f>\u53F0\u7063\u4E4B\u7F8E</span><br data-v-0bfdd32f>\u8B93\u6211\u5011\u66F4\u89AA\u8FD1\u9019\u7247\u571F\u5730 </h1><div class="flex items-center flex justify-center md:justify-start" data-v-0bfdd32f><img src="'+xe+'" class="mr-1.5" data-v-0bfdd32f><span class="text-sm md:text-xl md:text-left mr-1.5" data-v-0bfdd32f>\u53F0\u7063\u65C5\u904A\u666F\u9EDE\u5C0E\u89BD</span><span class="text-xs md:text-lg" data-v-0bfdd32f>Taiwan Travel Guide</span></div></div>',1),Ye={class:"home__form"},Xe=nt(()=>e("img",{src:rt,class:"mr-2"},null,-1)),Je=nt(()=>e("span",{class:"mr-6"},"\u641C",-1)),Qe=nt(()=>e("span",null,"\u5C0B",-1)),Ze={class:"mb-9 h-44 md:h-100"},ts={class:"mb-9"},es={class:"grid grid-cols-1 lg:grid-cols-2 grid-flow-row gap-7"},ss={key:0,class:"overflow-hidden flex-none"},as=["src"],os={class:"flex flex-col flex-grow justify-between text-left px-4 md:px-7 md:py-4"},ns={class:"text-gray-600"},is={class:"text-xs md:text-base"},ls={class:"font-bold md:text-2xl"},us={class:"flex justify-between"},rs={class:"flex"},cs=nt(()=>e("img",{src:St,class:"mr-1 hidden md:block"},null,-1)),ds={class:"text-xs md:text-base whitespace-nowrap"},ms=nt(()=>e("div",{class:"itmes-center text-primary font-medium cursor-pointer hidden md:flex"},[e("span",{class:"mr-1.5"},"\u8A73\u7D30\u4ECB\u7D39"),e("img",{src:be})],-1)),ps={class:"mb-9"},_s={class:"mb-16 md:mb-32"},fs=B({setup(o){z();const a=W(),{scrollToTop:s,formatCity:n}=K(),l=[{value:"scenicSpot",title:"\u63A2\u7D22\u666F\u9EDE"},{value:"activity",title:"\u7BC0\u6176\u6D3B\u52D5"},{value:"restaurant",title:"\u54C1\u5690\u7F8E\u98DF"}],u=S("scenicSpot"),f=S(""),h=S("\u4F60\u60F3\u53BB\u54EA\u88E1\uFF1F\u8ACB\u8F38\u5165\u95DC\u9375\u5B57");function d(){console.log("search",f.value),a.push({name:u.value,query:{keyword:f.value}})}let m=w([]);N.getScenicSpot({$filter:"Picture/PictureUrl1 ne null and Class1 ne null",$top:6}).then(p=>{m.push(...p)});let b=w([]);N.getActivity({$filter:"Picture/PictureUrl1 ne null",$top:4}).then(p=>{b.push(...p)});let D=w([]);N.getScenicSpot({$filter:"Picture/PictureUrl1 ne null and Class1 ne null",$top:4,$skip:6}).then(p=>{const k=p.map(E=>({id:E.ScenicSpotID,name:E.ScenicSpotName,picture:E.Picture,city:n(E.Address)}));D.push(...k)});let r=w([]);return N.getRestaurant({$filter:"Picture/PictureUrl1 ne null",$top:4}).then(p=>{const k=p.map(E=>({id:E.RestaurantID,name:E.RestaurantName,picture:E.Picture,city:n(E.Address)}));r.push(...k)}),H(()=>{s()}),(p,k)=>{const E=ot("router-link");return i(),c(L,null,[e("section",Ge,[Ke,e("div",Ye,[y(ct,{modelValue:u.value,"onUpdate:modelValue":k[0]||(k[0]=A=>u.value=A),options:l},null,8,["modelValue"]),y(dt,{modelValue:f.value,"onUpdate:modelValue":k[1]||(k[1]=A=>f.value=A),onKeyup:It(d,["enter"]),placeholder:h.value},null,8,["modelValue","onKeyup","placeholder"]),y(mt,{onClick:d,bgColor:"primary",color:"white"},{default:q(()=>[Xe,Je,Qe]),_:1})])]),e("section",Ze,[y(Le,{items:t(m),pathName:"scenicSpotDetail"},null,8,["items"])]),e("section",ts,[y(Q,{title:{default:"\u8FD1\u671F\u6D3B\u52D5"},subTitle:{default:"\u67E5\u770B\u66F4\u591A\u6D3B\u52D5"},route:"activity",class:"mb-3"}),e("div",es,[(i(!0),c(L,null,R(t(b),A=>(i(),I(E,{class:"flex md:rounded-2xl h-16 activity overflow-hidden md:h-40 md:border",to:`/activityDetail/${A.ActivityID}`},{default:q(()=>[A.Picture.PictureUrl1?(i(),c("div",ss,[e("img",{src:A.Picture.PictureUrl1,class:"w-22 h-full rounded-lg object-cover transform hover:scale-110 transition duration-200 cursor-pointer bg-no-image-s bg-center md:bg-no-image-l md:rounded-none md:w-40"},null,8,as)])):M("",!0),e("div",os,[e("div",ns,[e("span",is,x(A.StartTime.slice(0,10))+" - "+x(A.EndTime.slice(0,10)),1),e("div",ls,x(A.ActivityName),1)]),e("div",us,[e("div",rs,[cs,e("span",ds,x(A.City),1)]),ms])])]),_:2},1032,["to"]))),256))])]),e("section",ps,[y(Q,{title:{default:"\u71B1\u9580\u6253\u5361\u666F\u9EDE"},subTitle:{default:"\u67E5\u770B\u66F4\u591A\u666F\u9EDE"},route:"scenicspot",class:"mb-3"}),y(at,{dataList:t(D),routeName:"scenicSpotDetail"},null,8,["dataList"])]),e("section",_s,[y(Q,{title:{default:"\u4E00\u518D\u56DE\u8A2A\u7F8E\u98DF"},subTitle:{default:"\u67E5\u770B\u66F4\u591A\u7F8E\u98DF"},route:"restaurant",class:"mb-3"}),y(at,{dataList:t(r),routeName:"restaurantDetail"},null,8,["dataList"])])],64)}}});var hs=ut(fs,[["__scopeId","data-v-0bfdd32f"]]);const gs={class:"flex text-xs md:text-base whitespace-nowrap overflow-hidden"},ys=st("\u9996\u9801"),vs=e("span",null,"/",-1),xs={key:1,class:"ml-2"},bs={key:2},$s=e("span",null,"/",-1),Ds={key:3},Cs=e("span",null,"/",-1),ws={class:"ml-2 truncate"},tt=B({props:{mode:{type:String,required:!0},cityName:String,title:String},setup(o){const a=o,{mode:s,cityName:n,title:l}=T(a);let u=S("");switch(s.value){case"ScenicSpot":u.value="\u63A2\u7D22\u666F\u9EDE";break;case"Activity":u.value="\u7BC0\u6176\u6D3B\u52D5";break;case"Restaurant":u.value="\u5728\u5730\u7F8E\u98DF";break}return(f,h)=>{const d=ot("router-link");return i(),c("div",gs,[y(d,{to:"/",class:"text-primary mr-2"},{default:q(()=>[ys]),_:1}),vs,t(n)?(i(),I(d,{key:0,to:`/${t(s)}`,class:"text-primary mx-2"},{default:q(()=>[st(x(t(u)),1)]),_:1},8,["to"])):(i(),c("div",xs,x(t(u)),1)),t(n)?(i(),c("div",bs,[$s,t(n)?(i(),I(d,{key:0,to:`/${t(s)}?cityName=${t(n)}`,class:"text-primary mx-2"},{default:q(()=>[st(x(t(n)),1)]),_:1},8,["to"])):M("",!0)])):M("",!0),t(l)?(i(),c("div",Ds,[Cs,e("span",ws,x(t(l)),1)])):M("",!0)])}}}),Es=e("h2",{class:"text-2xl mb-4 md:text-4xl"},"\u71B1\u9580\u4E3B\u984C",-1),Ss={class:"grid grid-flow-row grid-cols-2 gap-x-4 gap-y-3 mb-16 md:grid-cols-4"},As=["onClick"],Bs={class:"text-white"},_t=B({props:{classList:Array},emits:["search"],setup(o,{emit:a}){const s=o,{classList:n}=T(s);function l(u){a("search",u)}return(u,f)=>(i(),c("section",null,[Es,e("div",Ss,[(i(!0),c(L,null,R(t(n),h=>(i(),c("div",{key:h.name,class:"h-20 md:h-32 rounded-2xl overflow-hidden",onClick:d=>l(h.name)},[e("div",{style:et({"background-image":`url(${h.imgUrl})`}),class:"w-full h-full flex items-center justify-center cursor-pointer bg-no-repeat bg-cover bg-center transform hover:scale-110 cursor-pointer transition duration-200"},[e("span",Bs,x(h.name),1)],4)],8,As))),128))])]))}});var ks="./assets/NoInformation.5dcb6eb1.svg";const Fs={class:"flex flex-col"},Ps={class:"flex items-center"},Us=e("h2",{class:"text-2xl mr-1.5 md:text-4xl"},"\u641C\u5C0B\u7D50\u679C",-1),Ls={class:"text-sm md:text-lg"},Ts=st(" \u5171\u6709 "),Ns={class:"text-tertiary"},Rs=st(" \u7B46 "),Is={class:"flex-grow grid grid-cols-1 gap-y-5 mb-22 md:grid-cols-4 md:gap-x-7.5"},Vs={key:0,class:"flex flex-col items-center text-primary font-bold pt-16 md:pt-22"},js=e("img",{src:ks,class:"w-22 h-22 mb-1.5"},null,-1),qs=e("span",null,"\u76EE\u524D\u67E5\u7121\u8CC7\u6599",-1),Ms=e("span",null,"\u8ACB\u91CD\u65B0\u641C\u5C0B",-1),Os=[js,qs,Ms],Ws={key:0,class:"flex justify-center mb-15"},ft=B({props:{dataList:{type:Array,default:[]},routeName:String},setup(o){const a=o,{dataList:s}=T(a),{scrollToTop:n}=K();let l=S(window.innerWidth),u=S(1),f=U(()=>l.value>640?20:8),h=U(()=>Math.ceil(s.value.length/f.value));function d(){n()}function m(){l.value=window.innerWidth}return G(s.value,b=>{}),H(()=>{window.addEventListener("resize",m)}),jt(()=>{window.removeEventListener("resize",m)}),(b,D)=>(i(),c("section",Fs,[e("div",Ps,[Us,e("p",Ls,[Ts,e("span",Ns,x(t(s).length),1),Rs])]),e("div",Is,[(i(!0),c(L,null,R(t(s).slice((t(u)-1)*t(f),t(u)*t(f)),r=>(i(),I(At,{key:r.name,data:r,routeName:o.routeName},null,8,["data","routeName"]))),128)),t(s).length===0?(i(),c("div",Vs,Os)):M("",!0)]),t(s).length>0?(i(),c("div",Ws,[y(t(qt),{modelValue:t(u),"onUpdate:modelValue":[D[0]||(D[0]=r=>O(u)?u.value=r:u=r),d],pages:t(h),"range-size":1,"active-color":"#A8B8A5"},null,8,["modelValue","pages"])])):M("",!0)]))}}),zs={class:"flex flex-col flex-grow pt-22 text-left md:pt-36"},Hs={class:"mb-4"},Gs={class:"flex flex-col mb-6 md:flex-row md:gap-x-4"},Ks={class:"md:flex-1"},Ys={class:"md:flex-2"},Xs={class:"md:flex-1"},Js=e("img",{src:rt,class:"mr-2"},null,-1),Qs=e("span",{class:"mr-6"},"\u641C",-1),Zs=e("span",null,"\u5C0B",-1),ta=B({props:{cityName:String,keyword:String,className:String},setup(o){const a=o,{cityName:s,keyword:n}=T(a),l=z(),{scrollToTop:u,formatCity:f}=K(),h=S("ScenicSpot");let d=S(`${n!=null&&n.value?n==null?void 0:n.value:""}`),m=S("");const b=U(()=>l.getters["Basic/cityList"]);let D=U(()=>{const $=b.value.map(_=>({title:_.CityName,value:_.City}));return $.unshift({title:"\u5168\u90E8\u7E23\u5E02",value:""}),$});function r(){const $=b.value.find(_=>_.CityName===(s==null?void 0:s.value));m.value=$?$.City:""}G(b,()=>{r()});let p=w([]);async function k($){const _={$filter:`(
      contains(ScenicSpotName, '${d.value}') or
      contains(DescriptionDetail, '${d.value}') or
      contains(Description, '${d.value}')
    )`};let v;$&&(_.$filter+=` and (
      contains(Class1, '${$}') or
      contains(Class2, '${$}') or
      contains(Class3, '${$}')
    )`),m.value?v=await N.getScenicSpotByCity(m.value,_).then(g=>g):v=await N.getScenicSpot(_).then(g=>g);const P=v.map(g=>({id:g.ScenicSpotID,picture:g.Picture,city:g.City?g.City:f(g.Address),name:g.ScenicSpotName}));p.splice(0,p.length),E.value=!1,p.push(...P)}let E=S(!0);const A=w([{name:"\u81EA\u7136\u98A8\u666F\u985E",imgUrl:new URL("./assets/Class1.173ed63f.png",self.location).href},{name:"\u89C0\u5149\u5DE5\u5EE0\u985E",imgUrl:new URL("./assets/Class2.ceb55bdc.png",self.location).href},{name:"\u904A\u61A9\u985E",imgUrl:new URL("./assets/Class3.5b64daa2.png",self.location).href},{name:"\u4F11\u9592\u8FB2\u696D\u985E",imgUrl:new URL("./assets/Class4.84d0f9e9.png",self.location).href},{name:"\u751F\u614B\u985E",imgUrl:new URL("./assets/Class5.984dd4dc.png",self.location).href},{name:"\u6EAB\u6CC9\u985E",imgUrl:new URL("./assets/Class6.4aae2420.png",self.location).href},{name:"\u53E4\u8E5F\u985E",imgUrl:new URL("./assets/Class7.ea11598e.png",self.location).href}]);return H(()=>{r()}),($,_)=>(i(),c("div",zs,[e("section",Hs,[y(tt,{mode:h.value},null,8,["mode"])]),e("section",Gs,[e("div",Ks,[y(ct,{class:"md:flex-1",modelValue:t(m),"onUpdate:modelValue":_[0]||(_[0]=v=>O(m)?m.value=v:m=v),options:t(D)},null,8,["modelValue","options"])]),e("div",Ys,[y(dt,{modelValue:t(d),"onUpdate:modelValue":_[1]||(_[1]=v=>O(d)?d.value=v:d=v),placeholder:"\u4F60\u60F3\u53BB\u54EA\u88E1?\u8ACB\u8F38\u5165\u95DC\u9375\u5B57"},null,8,["modelValue"])]),e("div",Xs,[y(mt,{onClick:_[2]||(_[2]=v=>k()),bgColor:"primary",color:"white"},{default:q(()=>[Js,Qs,Zs]),_:1})])]),t(E)?(i(),I(_t,{key:0,classList:t(A),onSearch:k},null,8,["classList"])):(i(),I(ft,{key:1,dataList:t(p),routeName:"scenicSpotDetail",class:"flex-grow"},null,8,["dataList"]))]))}}),ea={class:"flex overflow-hidden rounded-3xl w-full h-full relative"},sa={key:0,class:"w-full h-full bg-center bg-cover bg-no-image-l md:bg-no-image-xl"},aa={key:1,class:"absolute bottom-4 right-4 md:bottom-7 md:right-7 flex"},oa=["onClick"],ht=B({props:{items:{type:Array,default:[]}},setup(o){const a=o,{items:s}=T(a);let n=S(0);return(l,u)=>(i(),c("div",ea,[(i(!0),c(L,null,R(t(s),(f,h)=>(i(),c("div",{class:"w-full h-full overflow-hidden flex-none flex justify-center items-center transition duration-500 font-bold md:text-3xl md:justify-between",key:f,style:et({transform:`translate(-${t(n)*100}%)`})},[e("div",{style:et({"background-image":`url(${f})`}),class:"w-full h-full bg-cover bg-center"},null,4)],4))),128)),t(s).length===0?(i(),c("div",sa)):M("",!0),t(s).length>1?(i(),c("div",aa,[(i(!0),c(L,null,R(t(s),(f,h)=>(i(),c("div",{class:V(["rounded-full cursor-pointer w-2 h-2 mr-1.5 md:mr-3 md:w-4 md:h-4",{"bg-white":t(n)===h,"bg-gray-400":t(n)!==h}]),key:h,onClick:d=>O(n)?n.value=h:n=h},null,10,oa))),128))])):M("",!0)]))}}),na={class:"text-tertiary text-sm border border-tertiary rounded-xl px-2"},gt=B({props:{name:{type:String,required:!0}},setup(o){const a=o,{name:s}=T(a);return(n,l)=>(i(),c("div",na,"# "+x(t(s)),1))}}),ia=["src"],yt=B({props:{position:{type:Object,required:!0}},setup(o){const a=o,{position:s}=T(a);return(n,l)=>(i(),c("iframe",{width:"100%",height:"100%",loading:"lazy",eferrerpolicy:"no-referrer-when-downgrade",src:`https://maps.google.com/maps?q=${t(s).PositionLat},${t(s).PositionLon}&hl=zh-TW&z=16&output=embed`,class:"rounded-2xl"},null,8,ia))}}),la={class:"w-full"},ua=e("h3",{class:"font-bold mb-4"},"\u5468\u908A\u8CC7\u8A0A :",-1),ra={class:"flex flex-col md:flex-row w-full"},ca=["onClick"],da=["src"],vt=B({props:{position:{type:Object,required:!0},id:{type:String,required:!0}},setup(o){const a=o,{position:s,id:n}=T(a),l=W(),u=w([{name:"\u9644\u8FD1\u666F\u9EDE",icon:new URL("./assets/ScenicSpot.0cfa5187.svg",self.location).href,route:"scenicSpotDetail",id:""},{name:"\u9644\u8FD1\u6D3B\u52D5",icon:new URL("./assets/Activity.15806507.svg",self.location).href,route:"activityDetail",id:""},{name:"\u9644\u8FD1\u7F8E\u98DF",icon:new URL("./assets/Restaurant.ba92ce22.svg",self.location).href,route:"restaurantDetail",id:""}]);G(s,h=>{const d={$spatialFilter:`nearby(${h.PositionLat},${h.PositionLon},1000)`,$top:1};N.getScenicSpot(d).then(m=>{const b=m.find(D=>D.ScenicSpotID!==n.value);b&&(u[0].id=b.ScenicSpotID)}),N.getActivity(d).then(m=>{const b=m.find(D=>D.ActivityID!==n.value);b&&(u[1].id=b.ActivityID)}),N.getRestaurant(d).then(m=>{const b=m.find(D=>D.RestaurantID!==n.value);b&&(u[2].id=b.RestaurantID)})});function f(h){h.id&&l.push(`/${h.route}/${h.id}`)}return(h,d)=>(i(),c("div",la,[ua,e("div",ra,[(i(!0),c(L,null,R(t(u),(m,b)=>(i(),c("div",{key:m.name,class:V(["flex flex-col flex-auto items-center border-2 border-gray-3 py-3 rounded-lg bg-gray-50",{"mb-2 md:mb-0":b!==t(u).length-1,"md:mx-7":b===1,"cursor-pointer":m.id}]),onClick:D=>f(m)},[e("img",{src:m.icon,class:"w-6 mb-1.5"},null,8,da),e("div",null,[e("span",{class:V(["font-bold",{"text-gray-400":!m.id,"text-primary":m.id}])},x(m.name),3)])],10,ca))),128))])]))}}),ma={class:"pt-22 text-left md:pt-36"},pa={class:"mb-4"},_a={class:"mb-9 h-46 md:h-100 mb-4"},fa={class:"mb-7"},ha={class:"text-2xl mb-2"},ga={class:"flex mb-4"},ya={class:"font-bold mb-2"},va={class:"bg-gray-50 -mx-4 px-4 py-7 flex flex-col md:items-start mb-15 md:mx-0 md:px-0 md:flex-row md:bg-white"},xa={class:"mb-5 flex-auto rounded-xl grow-0 md:mb-0 md:bg-gray-50 md:mr-4 md:p-7.5"},ba={class:"font-bold mr-1 whitespace-nowrap"},$a={key:0,class:"break-all"},Da=["href"],Ca={class:"flex flex-col flex-auto md:ml-4"},wa={class:"mb-22 md:mb-30"},Ea=B({props:{id:{type:String,required:!0}},setup(o){const a=o;W();const s=z(),{scrollToTop:n,formatCity:l,formatPicture:u,formatClass:f}=K(),{id:h}=T(a),d=U(()=>s.state.defaultInfo);let m=w([]);const b=S("ScenicSpot");let D=S("\u666F\u9EDE");const r=w({data:{ScenicSpotID:"",ScenicSpotName:"",SrcUpdateTime:"",Address:"",UpdateTime:"",OpenTime:"",Phone:"",MapUrl:"",WebsiteUrl:"",Remarks:"",TicketInfo:"",City:"",Picture:{PictureUrl1:"",PictureDescription1:"",PictureUrl2:"",PictureDescription2:"",PictureUrl3:"",PictureDescription3:""},Position:{PositionLon:0,PositionLat:0,GeoHash:""}}}),p=w({default:"\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E",md:`\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684${D.value}`});let k=w({default:"\u67E5\u770B\u66F4\u591A\u666F\u9EDE",md:U(()=>`\u66F4\u591A${_.value}${D.value}`)}),E=w([]);function A(){N.getScenicSpot({$filter:`ScenicSpotID eq '${h.value}'`,$top:1}).then(P=>{r.data=P[0],m.push(...u(r.data.Picture)),u(r.data.Picture),E.push({title:"\u958B\u653E\u6642\u9593",content:r.data.OpenTime?r.data.OpenTime:d.value},{title:"\u670D\u52D9\u96FB\u8A71",content:r.data.Phone},{title:"\u666F\u9EDE\u5730\u5740",content:r.data.Address?r.data.Address:d.value,link:r.data.MapUrl?r.data.MapUrl:""},{title:"\u5B98\u65B9\u7DB2\u7AD9",content:r.data.WebsiteUrl?r.data.WebsiteUrl:d.value,link:r.data.WebsiteUrl?r.data.WebsiteUrl:""},{title:"\u7968\u50F9\u8CC7\u8A0A",content:r.data.TicketInfo?r.data.TicketInfo:d.value},{title:"\u6CE8\u610F\u4E8B\u9805",content:r.data.Remarks?r.data.Remarks:d.value}),n()})}const $=U(()=>s.getters["Basic/cityList"]);let _=U(()=>r.data.City?r.data.City:l(r.data.Address)),v=w([]);return G([_,$],([P,g])=>{if(P&&g){const C=g.find(F=>F.CityName===P);N.getScenicSpotByCity((C==null?void 0:C.City)||"",{$top:4,$filter:`Picture/PictureUrl1 ne null and Class1 ne null and ScenicSpotID ne '${h.value}'`}).then(F=>{const Y=F.map(j=>({id:j.ScenicSpotID,picture:j.Picture,city:j.City?j.City:l(j.Address),name:j.ScenicSpotName}));v.push(...Y)})}}),H(()=>{A()}),(P,g)=>(i(),c("div",ma,[e("section",pa,[y(tt,{mode:b.value,cityName:t(_),title:t(r).data.ScenicSpotName},null,8,["mode","cityName","title"])]),e("section",_a,[y(ht,{items:t(m)},null,8,["items"])]),e("section",fa,[e("h1",ha,x(t(r).data.ScenicSpotName),1),e("div",ga,[(i(!0),c(L,null,R(t(f)(t(r).data),C=>(i(),I(gt,{key:C,name:C,class:"mr-1"},null,8,["name"]))),128))]),e("h2",ya,x(t(D))+"\u4ECB\u7D39 :",1),e("p",null,x(t(r).data.DescriptionDetail),1)]),e("section",va,[e("div",xa,[(i(!0),c(L,null,R(t(E),C=>(i(),c("div",{class:"flex mb-2",key:C.title},[e("h3",ba,x(C.title)+" :",1),e("div",{class:V({"text-gray-400":C.content===t(d)})},[C.link?(i(),c("a",{key:1,href:C.link,target:"_blank",class:"text-primary underline break-all"},x(C.content),9,Da)):(i(),c("p",$a,x(C.content),1))],2)]))),128))]),e("div",Ca,[y(yt,{position:t(r).data.Position,class:"h-46 mb-8"},null,8,["position"]),y(vt,{position:t(r).data.Position,id:t(r).data.ScenicSpotID},null,8,["position","id"])])]),e("section",wa,[y(Q,{title:t(p),subTitle:t(k),route:"scenicSpot",city:t(_),class:"mb-3"},null,8,["title","subTitle","city"]),y(at,{dataList:t(v),routeName:"scenicSpotDetail"},null,8,["dataList"])])]))}}),Sa={class:"pt-22 text-left md:pt-36"},Aa={class:"mb-4"},Ba={class:"mb-9 h-46 md:h-100 mb-4"},ka={class:"mb-7"},Fa={class:"text-2xl mb-2"},Pa={class:"flex mb-4"},Ua={class:"font-bold mb-2"},La={class:"bg-gray-50 -mx-4 px-4 py-7 flex flex-col md:items-start mb-15 md:mx-0 md:px-0 md:flex-row md:bg-white"},Ta={class:"mb-5 flex-auto rounded-xl md:mb-0 md:bg-gray-50 md:mr-4 md:p-7.5"},Na={class:"font-bold mr-1 whitespace-nowrap"},Ra={key:0,class:"break-all"},Ia=["href"],Va={class:"flex flex-col flex-auto md:ml-4"},ja={class:"mb-22 md:mb-30"},qa=B({props:{id:{type:String,required:!0}},setup(o){const a=o;W();const s=z(),{scrollToTop:n,formatCity:l,formatPicture:u,formatClass:f,formatTime:h}=K(),{id:d}=T(a),m=U(()=>s.state.defaultInfo);let b=w([]),D=S("Activity"),r=S("\u6D3B\u52D5");const p=w({data:{ActivityID:"",ActivityName:"",SrcUpdateTime:"",Address:"",UpdateTime:"",StartTime:"",EndTime:"",Phone:"",MapUrl:"",WebsiteUrl:"",Remarks:"",Charge:"",Organizer:"",City:"",Picture:{PictureUrl1:"",PictureDescription1:"",PictureUrl2:"",PictureDescription2:"",PictureUrl3:"",PictureDescription3:""},Position:{PositionLon:0,PositionLat:0,GeoHash:""}}}),k=w({default:"\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E",md:`\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684${r.value}`});let E=w({default:`\u67E5\u770B\u66F4\u591A${r.value}`,md:U(()=>`\u66F4\u591A${l(p.data.Address)}${r.value}`)}),A=w([]);function $(){N.getActivity({$filter:`ActivityID eq '${d.value}'`,$top:1}).then(g=>{p.data=g[0],b.push(...u(p.data.Picture)),u(p.data.Picture),A.push({title:"\u6D3B\u52D5\u6642\u9593",content:h(p.data.StartTime)+" - "+h(p.data.EndTime)},{title:"\u806F\u7D61\u96FB\u8A71",content:p.data.Phone?p.data.Phone:m.value},{title:"\u4E3B\u8FA6\u55AE\u4F4D",content:p.data.Organizer},{title:"\u6D3B\u52D5\u5730\u9EDE",content:p.data.Address,link:p.data.MapUrl?p.data.MapUrl:""},{title:"\u5B98\u65B9\u7DB2\u7AD9",content:p.data.WebsiteUrl?p.data.WebsiteUrl:m.value,link:p.data.WebsiteUrl?p.data.WebsiteUrl:""},{title:"\u6D3B\u52D5\u8CBB\u7528",content:p.data.Charge?p.data.Charge:m.value},{title:"\u6CE8\u610F\u4E8B\u9805",content:p.data.Remarks?p.data.Remarks:m.value}),n()})}const _=U(()=>s.getters["Basic/cityList"]);let v=U(()=>p.data.City?p.data.City:l(p.data.Address)),P=w([]);return G([v,_],([g,C])=>{if(g&&C){const F=C.find(Y=>Y.CityName===g);N.getActivityByCity((F==null?void 0:F.City)||"",{$top:4,$filter:`Picture/PictureUrl1 ne null and Class1 ne null and ActivityID ne '${d.value}'`}).then(Y=>{const j=Y.map(it=>({id:it.ActivityID,picture:it.Picture,city:it.City,name:it.ActivityName}));P.push(...j)})}}),H(()=>{$()}),(g,C)=>(i(),c("div",Sa,[e("section",Aa,[y(tt,{mode:t(D),cityName:t(v),title:t(p).data.ActivityName},null,8,["mode","cityName","title"])]),e("section",Ba,[y(ht,{items:t(b)},null,8,["items"])]),e("section",ka,[e("h1",Fa,x(t(p).data.ActivityName),1),e("div",Pa,[(i(!0),c(L,null,R(t(f)(t(p).data),F=>(i(),I(gt,{key:F,name:F,class:"mr-1"},null,8,["name"]))),128))]),e("h2",Ua,x(t(r))+"\u4ECB\u7D39 :",1),e("p",null,x(t(p).data.Description),1)]),e("section",La,[e("div",Ta,[(i(!0),c(L,null,R(t(A),F=>(i(),c("div",{class:"flex mb-2",key:F.title},[e("h3",Na,x(F.title)+" :",1),e("div",{class:V({"text-gray-400":F.content===t(m)})},[F.link?(i(),c("a",{key:1,href:F.link,target:"_blank",class:"text-primary underline break-all"},x(F.content),9,Ia)):(i(),c("p",Ra,x(F.content),1))],2)]))),128))]),e("div",Va,[y(yt,{position:t(p).data.Position,class:"h-46 mb-8"},null,8,["position"]),y(vt,{position:t(p).data.Position,id:t(p).data.ActivityID},null,8,["position","id"])])]),e("section",ja,[y(Q,{title:t(k),subTitle:t(E),route:"activity",city:t(v),class:"mb-3"},null,8,["title","subTitle","city"]),y(at,{dataList:t(P),routeName:"activityDetail"},null,8,["dataList"])])]))}}),Ma={class:"pt-22 text-left md:pt-36"},Oa={class:"mb-4"},Wa={class:"mb-9 h-46 md:h-100 mb-4"},za={class:"mb-7"},Ha={class:"text-2xl mb-2"},Ga={class:"flex mb-4"},Ka={class:"font-bold mb-2"},Ya={class:"bg-gray-50 -mx-4 px-4 py-7 flex flex-col mb-15 md:items-start md:mx-0 md:px-0 md:flex-row md:bg-white"},Xa={class:"mb-5 flex-auto rounded-xl md:mb-5 md:bg-gray-50 md:mr-4 md:p-7.5"},Ja={class:"font-bold mr-1 whitespace-nowrap"},Qa={key:0,class:"break-all"},Za=["href"],to={class:"flex flex-col flex-auto md:ml-4"},eo={class:"mb-22 md:mb-30"},so=B({props:{id:{type:String,required:!0}},setup(o){const a=o;W();const s=z(),{scrollToTop:n,formatCity:l,formatPicture:u,formatClass:f}=K(),{id:h}=T(a),d=U(()=>s.state.defaultInfo);let m=w([]),b=S("Restaurant"),D=S("\u7F8E\u98DF");const r=w({data:{RestaurantID:"",RestaurantName:"",SrcUpdateTime:"",Address:"",UpdateTime:"",OpenTime:"",Phone:"",MapUrl:"",WebsiteUrl:"",City:"",Picture:{PictureUrl1:"",PictureDescription1:"",PictureUrl2:"",PictureDescription2:"",PictureUrl3:"",PictureDescription3:""},Position:{PositionLon:0,PositionLat:0,GeoHash:""}}}),p=w({default:"\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E",md:`\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684${D.value}`});let k=w({default:"\u67E5\u770B\u66F4\u591A\u666F\u9EDE",md:U(()=>`\u66F4\u591A${l(r.data.Address)}${D.value}`)}),E=w([]);function A(){N.getRestaurant({$filter:`RestaurantID eq '${h.value}'`,$top:1}).then(P=>{r.data=P[0],m.push(...u(r.data.Picture)),u(r.data.Picture),E.push({title:"\u71DF\u696D\u6642\u9593",content:r.data.OpenTime?r.data.OpenTime:d.value},{title:"\u806F\u7D61\u96FB\u8A71",content:r.data.Phone},{title:"\u9910\u5EF3\u5730\u5740",content:r.data.Address,link:r.data.MapUrl?r.data.MapUrl:""},{title:"\u5B98\u65B9\u7DB2\u7AD9",content:r.data.WebsiteUrl?r.data.WebsiteUrl:d.value,link:r.data.WebsiteUrl?r.data.WebsiteUrl:""}),n()})}const $=U(()=>s.getters["Basic/cityList"]);let _=U(()=>l(r.data.Address)),v=w([]);return G([_,$],([P,g])=>{if(P&&g){const C=g.find(F=>F.CityName===P);N.getRestaurantByCity((C==null?void 0:C.City)||"",{$top:4,$filter:`Picture/PictureUrl1 ne null and Class ne null and RestaurantID ne '${h.value}'`}).then(F=>{const Y=F.map(j=>({id:j.RestaurantID,picture:j.Picture,city:j.City,name:j.RestaurantName}));v.push(...Y)})}}),H(()=>{A()}),(P,g)=>(i(),c("div",Ma,[e("section",Oa,[y(tt,{mode:t(b),cityName:t(_),title:t(r).data.RestaurantName},null,8,["mode","cityName","title"])]),e("section",Wa,[y(ht,{items:t(m)},null,8,["items"])]),e("section",za,[e("h1",Ha,x(t(r).data.RestaurantName),1),e("div",Ga,[(i(!0),c(L,null,R(t(f)(t(r).data),C=>(i(),I(gt,{key:C,name:C,class:"mr-1"},null,8,["name"]))),128))]),e("h2",Ka,x(t(D))+"\u4ECB\u7D39 :",1),e("p",null,x(t(r).data.Description),1)]),e("section",Ya,[e("div",Xa,[(i(!0),c(L,null,R(t(E),C=>(i(),c("div",{class:"flex mb-2",key:C.title},[e("h3",Ja,x(C.title)+" :",1),e("div",{class:V({"text-gray-400":C.content===t(d)})},[C.link?(i(),c("a",{key:1,href:C.link,target:"_blank",class:"text-primary underline break-all"},x(C.content),9,Za)):(i(),c("p",Qa,x(C.content),1))],2)]))),128))]),e("div",to,[y(yt,{position:t(r).data.Position,class:"h-46 mb-8"},null,8,["position"]),y(vt,{position:t(r).data.Position,id:t(r).data.RestaurantID},null,8,["position","id"])])]),e("section",eo,[y(Q,{title:t(p),subTitle:t(k),route:"restaurant",city:t(_),class:"mb-3"},null,8,["title","subTitle","city"]),y(at,{dataList:t(v),routeName:"restaurantDetail"},null,8,["dataList"])])]))}}),ao={class:"flex flex-col flex-grow pt-22 text-left md:pt-36"},oo={class:"mb-4"},no={class:"flex flex-col mb-6 md:flex-row md:gap-x-4"},io={class:"md:flex-1"},lo={class:"md:flex-2"},uo={class:"md:flex-1"},ro=e("img",{src:rt,class:"mr-2"},null,-1),co=e("span",{class:"mr-6"},"\u641C",-1),mo=e("span",null,"\u5C0B",-1),po=B({props:{cityName:String,keyword:String,className:String},setup(o){const a=o,{cityName:s,keyword:n}=T(a),l=z(),{scrollToTop:u,formatCity:f}=K(),h=S("Activity");let d=S(`${n!=null&&n.value?n==null?void 0:n.value:""}`),m=S("");const b=U(()=>l.getters["Basic/cityList"]);let D=U(()=>{const $=b.value.map(_=>({title:_.CityName,value:_.City}));return $.unshift({title:"\u5168\u90E8\u7E23\u5E02",value:""}),$});function r(){const $=b.value.find(_=>_.CityName===(s==null?void 0:s.value));m.value=$?$.City:""}G(b,()=>{r()});let p=w([]);async function k($){const _={$filter:`(
      contains(ActivityName, '${d.value}') or
      contains(Particpation, '${d.value}') or
      contains(Description, '${d.value}')
    )`};let v;$&&(_.$filter+=` and (
      contains(Class1, '${$}') or
      contains(Class2, '${$}')
    )`),m.value?v=await N.getActivityByCity(m.value,_).then(g=>g):v=await N.getActivity(_).then(g=>g);const P=v.map(g=>({id:g.ActivityID,picture:g.Picture,city:g.City?g.City:f(g.Address),name:g.ActivityName}));p.splice(0,p.length),E.value=!1,p.push(...P)}let E=S(!0);const A=w([{name:"\u7BC0\u6176\u6D3B\u52D5",imgUrl:"src/assets/img/activity/\u7BC0\u6176\u6D3B\u52D5\u985E.png"},{name:"\u81EA\u884C\u8ECA\u6D3B\u52D5",imgUrl:"src/assets/img/activity/\u81EA\u884C\u8ECA\u6D3B\u52D5\u985E.png"},{name:"\u904A\u61A9\u6D3B\u52D5",imgUrl:"src/assets/img/activity/\u904A\u61A9\u6D3B\u52D5\u985E.png"},{name:"\u7522\u696D\u6587\u5316\u6D3B\u52D5",imgUrl:"src/assets/img/activity/\u7522\u696D\u6587\u5316\u6D3B\u52D5\u985E.png"},{name:"\u5E74\u5EA6\u6D3B\u52D5",imgUrl:"src/assets/img/activity/\u5E74\u5EA6\u6D3B\u52D5\u985E.png"},{name:"\u56DB\u5B63\u6D3B\u52D5",imgUrl:"src/assets/img/activity/\u56DB\u5B63\u6D3B\u52D5\u985E.png"}]);return H(()=>{r()}),($,_)=>(i(),c("div",ao,[e("section",oo,[y(tt,{mode:h.value},null,8,["mode"])]),e("section",no,[e("div",io,[y(ct,{class:"md:flex-1",modelValue:t(m),"onUpdate:modelValue":_[0]||(_[0]=v=>O(m)?m.value=v:m=v),options:t(D)},null,8,["modelValue","options"])]),e("div",lo,[y(dt,{modelValue:t(d),"onUpdate:modelValue":_[1]||(_[1]=v=>O(d)?d.value=v:d=v),placeholder:"\u4F60\u60F3\u53BB\u54EA\u88E1?\u8ACB\u8F38\u5165\u95DC\u9375\u5B57"},null,8,["modelValue"])]),e("div",uo,[y(mt,{onClick:_[2]||(_[2]=v=>k()),bgColor:"primary",color:"white"},{default:q(()=>[ro,co,mo]),_:1})])]),t(E)?(i(),I(_t,{key:0,classList:t(A),onSearch:k},null,8,["classList"])):(i(),I(ft,{key:1,dataList:t(p),routeName:"activityDetail",class:"flex-grow"},null,8,["dataList"]))]))}}),_o={class:"flex flex-col flex-grow pt-22 text-left md:pt-36"},fo={class:"mb-4"},ho={class:"flex flex-col mb-6 md:flex-row md:gap-x-4"},go={class:"md:flex-1"},yo={class:"md:flex-2"},vo={class:"md:flex-1"},xo=e("img",{src:rt,class:"mr-2"},null,-1),bo=e("span",{class:"mr-6"},"\u641C",-1),$o=e("span",null,"\u5C0B",-1),Do=B({props:{cityName:String,keyword:String,className:String},setup(o){const a=o,{cityName:s,keyword:n}=T(a),l=z(),{scrollToTop:u,formatCity:f}=K(),h=S("Restaurant");let d=S(`${n!=null&&n.value?n==null?void 0:n.value:""}`),m=S("");const b=U(()=>l.getters["Basic/cityList"]);let D=U(()=>{const $=b.value.map(_=>({title:_.CityName,value:_.City}));return $.unshift({title:"\u5168\u90E8\u7E23\u5E02",value:""}),$});function r(){const $=b.value.find(_=>_.CityName===(s==null?void 0:s.value));m.value=$?$.City:""}G(b,()=>{r()});let p=w([]);async function k($){const _={$filter:`(
      contains(RestaurantName, '${d.value}') or
      contains(Description, '${d.value}')
    )`};let v;$&&(_.$filter+=` and (
      contains(Class, '${$}')
    )`),m.value?v=await N.getRestaurantByCity(m.value,_).then(g=>g):v=await N.getRestaurant(_).then(g=>g);const P=v.map(g=>({id:g.RestaurantID,picture:g.Picture,city:g.City?g.City:f(g.Address),name:g.RestaurantName}));p.splice(0,p.length),E.value=!1,p.push(...P)}let E=S(!0);const A=w([{name:"\u5730\u65B9\u7279\u7522",imgUrl:"src/assets/img/restaurant/\u5730\u65B9\u7279\u7522\u985E.png"},{name:"\u4E2D\u5F0F\u7F8E\u98DF",imgUrl:"src/assets/img/restaurant/\u4E2D\u5F0F\u7F8E\u98DF\u985E.png"},{name:"\u751C\u9EDE\u51B0\u54C1",imgUrl:"src/assets/img/restaurant/\u751C\u9EDE\u51B0\u54C1\u985E.png"},{name:"\u7570\u570B\u6599\u7406",imgUrl:"src/assets/img/restaurant/\u7570\u570B\u6599\u7406\u985E.png"},{name:"\u4F34\u624B\u79AE",imgUrl:"src/assets/img/restaurant/\u4F34\u624B\u79AE\u985E.png"},{name:"\u7D20\u98DF",imgUrl:"src/assets/img/restaurant/\u7D20\u98DF\u985E.png"}]);return H(()=>{r()}),($,_)=>(i(),c("div",_o,[e("section",fo,[y(tt,{mode:h.value},null,8,["mode"])]),e("section",ho,[e("div",go,[y(ct,{class:"md:flex-1",modelValue:t(m),"onUpdate:modelValue":_[0]||(_[0]=v=>O(m)?m.value=v:m=v),options:t(D)},null,8,["modelValue","options"])]),e("div",yo,[y(dt,{modelValue:t(d),"onUpdate:modelValue":_[1]||(_[1]=v=>O(d)?d.value=v:d=v),placeholder:"\u4F60\u60F3\u53BB\u54EA\u88E1?\u8ACB\u8F38\u5165\u95DC\u9375\u5B57"},null,8,["modelValue"])]),e("div",vo,[y(mt,{onClick:_[2]||(_[2]=v=>k()),bgColor:"primary",color:"white"},{default:q(()=>[xo,bo,$o]),_:1})])]),t(E)?(i(),I(_t,{key:0,classList:t(A),onSearch:k},null,8,["classList"])):(i(),I(ft,{key:1,dataList:t(p),routeName:"restaurantDetail",class:"flex-grow"},null,8,["dataList"]))]))}}),Co=[{path:"/",name:"home",component:hs},{path:"/scenicSpotDetail/:id",name:"scenicSpotDetail",component:Ea,props:!0},{path:"/activityDetail/:id",name:"activityDetail",component:qa,props:!0},{path:"/restaurantDetail/:id",name:"restaurantDetail",component:so,props:!0},{path:"/scenicSpot",name:"scenicSpot",component:ta,props:o=>({cityName:o.query.cityName,keyword:o.query.keyword,className:o.query.className})},{path:"/activity",name:"activity",component:po,props:o=>({cityName:o.query.cityName,keyword:o.query.keyword,className:o.query.className})},{path:"/restaurant",name:"restaurant",component:Do,props:o=>({cityName:o.query.cityName,keyword:o.query.keyword,className:o.query.className})}],wo=Mt({history:Ot(),routes:Co});var Eo={},So={async getActivity(o,a){}};class Ao{static getCity(a){return X.v3Req("get","Basic/City",a)}}class Bo{static getCity(a){return Ao.getCity(a).then(s=>s.data)}}const ko={namespaced:!0,state:{cityList:[]},actions:{getCity:({commit:o},a)=>{Bo.getCity(a).then(s=>{o("getCity",s)})}},mutations:{getCity:(o,a)=>{o.cityList=a}},getters:{cityList(o){return o.cityList}}},Fo={namespaced:!0,states:{},actions:{},mutations:{},getters:{}};var Po=Wt({modules:{Basic:ko,Tourism:Fo},state:{defaultInfo:"\u66AB\u7121\u8CC7\u8A0A"},getters:{},mutations:So,actions:Eo});zt.add();const Uo=Gt(ve);Uo.use(wo).use(Po).component("font-awesome-icon",Ht).mount("#app");
